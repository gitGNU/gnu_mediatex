
*** TO CORRECT: cache policy    

** SERVER API:
- unify sockets messages for all (cache, have, notify)
- unit test for mediatexd (sockets messages)
- utcache should call uploadFinaleArchive instaed of cacheUpload

** UPLOAD
- rename cache/incoming to cache/date ?
- provide upload target path
- do not load into cache unknown archive in extract.txt
- isIncoming() &&= (archive->mainScore ==-1 || archive->mainScore <= 5)
- buildRule.sh script

** SERVER
- serversTree->server[]->lastCommit = DATE used by computeScore

** FINALE-SUPLLY
- add a sha1 field for supports
- supports also include files on disk:
-- name = absolute path 
- cache.c also read supports.txt to get final-supply records
- remove cache/toKeep directory
- cache never follow simlinks

** MOTD
- localScore/mainScore ?
- add coll selection facility
- add to burn
-- only show when mainScore<5 && localScore<5
-- list embedded content too if not all having same score
- notify orphanes
- display cache size (all/used/allocated/free)

*** HTML
- notify server lastComit
- (final supplies automaticaly included into image score computation)
- notify orphanes

** LOGS
- make cron upload the cvsroot collection module
- make cron upload the collection's apache logs
- ease looking for archive life cycle into cvsroot

*** CHANGES (to document)

** INC
- extractNNN.txt: agregate uploaded files into one uniq INC container
--> computeArchiveStatus => ComputeExtractScore
- REC code removed
- score: look INC date to decide if score inpact or not on collection
- no unit test for extract.c::getWantedArchives
- extract.c::extractRecord modify tmpBasename for INC
- uploadTTL parmeter into servers.txt
- extract rule automatically remove related INC content

** HAVE
- have: mount done by server
- mediatexd (ex: have) do not pass log facility to mdtx (but scripts ok)
- find a way to pass a string for have/upload recordTree messages
- remove [info cache.c] access fails: No such file or directory
- remove thereIs function

** UPLOAD
- cvsPrint manage upload concatenation
- upload (manage all 5-E-C combinaisons) -> concat into NNN.txt

** SYNTAX
- finale -> final
- locale -> local / setlocale / LOCALEDIR / locale.h

** SERVER API
- simplify cgiSrv code

*** CLEAN-UP

- src/misc/host.c (to remove)
- src/misc/udp.c (to remove)
- compilation warnings

*** TO TEST

- pgrof: test with more than 100k entries
- find historical event into cvs's collections

*** TODO

- find . -type f -name "*.[cly]" -exec grep -n ' \* TODO' /dev/null {} \;
- replace gethostby*_r by getaddrinfo and co
- i10n for french

*** TODO MAYBE

- find . -type f -name "*.[cly]" -exec grep -n ' \* MAYBE' /dev/null {} \;
- manage ECDSA keys
- remove MDTX_DELIVER code?: register.h ... mediatexd.c
- move dirname into extract rule header to reduce extract.txt file size
- add supp: wait CD doors is locked (cf v3)
- ease several servers conf: manage /etc/init.d, cron... from adm init
  vhost for apache logs and one mdtx.log for each daemon
- replace ardsm by mqueue
- add thread ID to the log
- replace cvs+viewvc by git+cgit


